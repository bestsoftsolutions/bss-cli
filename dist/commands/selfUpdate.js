import {execSync}from'child_process';const a="bestsoftsolutions/bss-cli";async function p(){try{console.log("\u{1F50D} Checking latest version...");const e=await fetch(`https://api.github.com/repos/${a}/releases/latest`,{headers:{"User-Agent":"bss-cli",Accept:"application/vnd.github+json"}}),t=await e.text();if(!e.ok)throw new Error(t);const s=JSON.parse(t);if(!s||!s.assets){console.log("\u274C No GitHub releases found."),console.log("Create a release first using publish script.");return}const o=s.assets.find(n=>n.name.endsWith(".tgz"));if(!o){console.log("\u274C No .tgz file found in release assets.");return}console.log(`\u2B06\uFE0F Updating to ${s.tag_name}...`),execSync(`npm i -g ${o.browser_download_url}`,{stdio:"inherit"}),console.log("\u2705 Update complete!");}catch(e){console.error("Update failed:",e.message||e);}}
export{p as selfUpdate};